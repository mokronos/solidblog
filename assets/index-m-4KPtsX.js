(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();const ft=(r,t)=>r===t,ct=Symbol("solid-track"),se={equals:ft};let He=et;const Q=1,fe=2,Xe={owned:null,cleanups:null,context:null,owner:null},me={};var B=null;let we=null,V=null,$=null,W=null,ye=0;function le(r,t){const e=V,n=B,o=r.length===0,i=t===void 0?n:t,u=o?Xe:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=o?r:()=>r(()=>K(()=>ge(u)));B=u,V=null;try{return G(a,!0)}finally{V=e,B=n}}function N(r,t){t=t?Object.assign({},se,t):se;const e={value:r,observers:null,observerSlots:null,comparator:t.equals||void 0},n=o=>(typeof o=="function"&&(o=o(e.value)),Ze(e,o));return[qe.bind(e),n]}function ke(r,t,e){const n=pe(r,t,!0,Q);Z(n)}function J(r,t,e){const n=pe(r,t,!1,Q);Z(n)}function ze(r,t,e){He=mt;const n=pe(r,t,!1,Q);(!e||!e.render)&&(n.user=!0),W?W.push(n):Z(n)}function Ye(r,t,e){e=e?Object.assign({},se,e):se;const n=pe(r,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=e.equals||void 0,Z(n),qe.bind(n)}function ht(r){return r&&typeof r=="object"&&"then"in r}function De(r,t,e){let n,o,i;arguments.length===2&&typeof t=="object"||arguments.length===1?(n=!0,o=r,i=t||{}):(n=r,o=t,i=e||{});let u=null,a=me,l=!1,s="initialValue"in i,f=typeof n=="function"&&Ye(n);const h=new Set,[c,d]=(i.storage||N)(i.initialValue),[v,m]=N(void 0),[p,x]=N(void 0,{equals:!1}),[w,y]=N(s?"ready":"unresolved");function A(g,F,b,D){return u===g&&(u=null,D!==void 0&&(s=!0),(g===a||F===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(D,{value:F})),a=me,E(F,b)),F}function E(g,F){G(()=>{F===void 0&&d(()=>g),y(F!==void 0?"errored":s?"ready":"unresolved"),m(F);for(const b of h.keys())b.decrement();h.clear()},!1)}function L(){const g=yt,F=c(),b=v();if(b!==void 0&&!u)throw b;return V&&!V.user&&g&&ke(()=>{p(),u&&(g.resolved||h.has(g)||(g.increment(),h.add(g)))}),F}function C(g=!0){if(g!==!1&&l)return;l=!1;const F=f?f():n;if(F==null||F===!1){A(u,K(c));return}const b=a!==me?a:K(()=>o(F,{value:c(),refetching:g}));return ht(b)?(u=b,"value"in b?(b.status==="success"?A(u,b.value,void 0,F):A(u,void 0,void 0,F),b):(l=!0,queueMicrotask(()=>l=!1),G(()=>{y(s?"refreshing":"pending"),x()},!1),b.then(D=>A(b,D,void 0,F),D=>A(b,void 0,rt(D),F)))):(A(u,b,void 0,F),b)}return Object.defineProperties(L,{state:{get:()=>w()},error:{get:()=>v()},loading:{get(){const g=w();return g==="pending"||g==="refreshing"}},latest:{get(){if(!s)return L();const g=v();if(g&&!u)throw g;return c()}}}),f?ke(()=>C(!1)):C(!1),[L,{refetch:C,mutate:d}]}function K(r){if(V===null)return r();const t=V;V=null;try{return r()}finally{V=t}}function dt(r,t,e){const n=Array.isArray(r);let o,i=e&&e.defer;return u=>{let a;if(n){a=Array(r.length);for(let s=0;s<r.length;s++)a[s]=r[s]()}else a=r();if(i){i=!1;return}const l=K(()=>t(a,o,u));return o=a,l}}function vt(r){return B===null||(B.cleanups===null?B.cleanups=[r]:B.cleanups.push(r)),r}let yt;function qe(){if(this.sources&&this.state)if(this.state===Q)Z(this);else{const r=$;$=null,G(()=>he(this),!1),$=r}if(V){const r=this.observers?this.observers.length:0;V.sources?(V.sources.push(this),V.sourceSlots.push(r)):(V.sources=[this],V.sourceSlots=[r]),this.observers?(this.observers.push(V),this.observerSlots.push(V.sources.length-1)):(this.observers=[V],this.observerSlots=[V.sources.length-1])}return this.value}function Ze(r,t,e){let n=r.value;return(!r.comparator||!r.comparator(n,t))&&(r.value=t,r.observers&&r.observers.length&&G(()=>{for(let o=0;o<r.observers.length;o+=1){const i=r.observers[o],u=we&&we.running;u&&we.disposed.has(i),(u?!i.tState:!i.state)&&(i.pure?$.push(i):W.push(i),i.observers&&tt(i)),u||(i.state=Q)}if($.length>1e6)throw $=[],new Error},!1)),t}function Z(r){if(!r.fn)return;ge(r);const t=ye;pt(r,r.value,t)}function pt(r,t,e){let n;const o=B,i=V;V=B=r;try{n=r.fn(t)}catch(u){return r.pure&&(r.state=Q,r.owned&&r.owned.forEach(ge),r.owned=null),r.updatedAt=e+1,nt(u)}finally{V=i,B=o}(!r.updatedAt||r.updatedAt<=e)&&(r.updatedAt!=null&&"observers"in r?Ze(r,n):r.value=n,r.updatedAt=e)}function pe(r,t,e,n=Q,o){const i={fn:r,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:B,context:B?B.context:null,pure:e};return B===null||B!==Xe&&(B.owned?B.owned.push(i):B.owned=[i]),i}function ce(r){if(r.state===0)return;if(r.state===fe)return he(r);if(r.suspense&&K(r.suspense.inFallback))return r.suspense.effects.push(r);const t=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<ye);)r.state&&t.push(r);for(let e=t.length-1;e>=0;e--)if(r=t[e],r.state===Q)Z(r);else if(r.state===fe){const n=$;$=null,G(()=>he(r,t[0]),!1),$=n}}function G(r,t){if($)return r();let e=!1;t||($=[]),W?e=!0:W=[],ye++;try{const n=r();return gt(e),n}catch(n){e||(W=null),$=null,nt(n)}}function gt(r){if($&&(et($),$=null),r)return;const t=W;W=null,t.length&&G(()=>He(t),!1)}function et(r){for(let t=0;t<r.length;t++)ce(r[t])}function mt(r){let t,e=0;for(t=0;t<r.length;t++){const n=r[t];n.user?r[e++]=n:ce(n)}for(t=0;t<e;t++)ce(r[t])}function he(r,t){r.state=0;for(let e=0;e<r.sources.length;e+=1){const n=r.sources[e];if(n.sources){const o=n.state;o===Q?n!==t&&(!n.updatedAt||n.updatedAt<ye)&&ce(n):o===fe&&he(n,t)}}}function tt(r){for(let t=0;t<r.observers.length;t+=1){const e=r.observers[t];e.state||(e.state=fe,e.pure?$.push(e):W.push(e),e.observers&&tt(e))}}function ge(r){let t;if(r.sources)for(;r.sources.length;){const e=r.sources.pop(),n=r.sourceSlots.pop(),o=e.observers;if(o&&o.length){const i=o.pop(),u=e.observerSlots.pop();n<o.length&&(i.sourceSlots[u]=n,o[n]=i,e.observerSlots[n]=u)}}if(r.owned){for(t=r.owned.length-1;t>=0;t--)ge(r.owned[t]);r.owned=null}if(r.cleanups){for(t=r.cleanups.length-1;t>=0;t--)r.cleanups[t]();r.cleanups=null}r.state=0}function rt(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function nt(r,t=B){throw rt(r)}const wt=Symbol("fallback");function Pe(r){for(let t=0;t<r.length;t++)r[t]()}function Ft(r,t,e={}){let n=[],o=[],i=[],u=0,a=t.length>1?[]:null;return vt(()=>Pe(i)),()=>{let l=r()||[],s,f;return l[ct],K(()=>{let c=l.length,d,v,m,p,x,w,y,A,E;if(c===0)u!==0&&(Pe(i),i=[],n=[],o=[],u=0,a&&(a=[])),e.fallback&&(n=[wt],o[0]=le(L=>(i[0]=L,e.fallback())),u=1);else if(u===0){for(o=new Array(c),f=0;f<c;f++)n[f]=l[f],o[f]=le(h);u=c}else{for(m=new Array(c),p=new Array(c),a&&(x=new Array(c)),w=0,y=Math.min(u,c);w<y&&n[w]===l[w];w++);for(y=u-1,A=c-1;y>=w&&A>=w&&n[y]===l[A];y--,A--)m[A]=o[y],p[A]=i[y],a&&(x[A]=a[y]);for(d=new Map,v=new Array(A+1),f=A;f>=w;f--)E=l[f],s=d.get(E),v[f]=s===void 0?-1:s,d.set(E,f);for(s=w;s<=y;s++)E=n[s],f=d.get(E),f!==void 0&&f!==-1?(m[f]=o[s],p[f]=i[s],a&&(x[f]=a[s]),f=v[f],d.set(E,f)):i[s]();for(f=w;f<c;f++)f in m?(o[f]=m[f],i[f]=p[f],a&&(a[f]=x[f],a[f](f))):o[f]=le(h);o=o.slice(0,u=c),n=l.slice(0)}return o});function h(c){if(i[f]=c,a){const[d,v]=N(f);return a[f]=v,t(l[f],d)}return t(l[f])}}}function q(r,t){return K(()=>r(t||{}))}function xt(r){const t="fallback"in r&&{fallback:()=>r.fallback};return Ye(Ft(()=>r.each,r.children,t||void 0))}function bt(r,t,e){let n=e.length,o=t.length,i=n,u=0,a=0,l=t[o-1].nextSibling,s=null;for(;u<o||a<i;){if(t[u]===e[a]){u++,a++;continue}for(;t[o-1]===e[i-1];)o--,i--;if(o===u){const f=i<n?a?e[a-1].nextSibling:e[i-a]:l;for(;a<i;)r.insertBefore(e[a++],f)}else if(i===a)for(;u<o;)(!s||!s.has(t[u]))&&t[u].remove(),u++;else if(t[u]===e[i-1]&&e[a]===t[o-1]){const f=t[--o].nextSibling;r.insertBefore(e[a++],t[u++].nextSibling),r.insertBefore(e[--i],f),t[o]=e[i]}else{if(!s){s=new Map;let h=a;for(;h<i;)s.set(e[h],h++)}const f=s.get(t[u]);if(f!=null)if(a<f&&f<i){let h=u,c=1,d;for(;++h<o&&h<i&&!((d=s.get(t[h]))==null||d!==f+c);)c++;if(c>f-a){const v=t[u];for(;a<f;)r.insertBefore(e[a++],v)}else r.replaceChild(e[a++],t[u++])}else u++;else t[u++].remove()}}}const Ne="_$DX_DELEGATE";function At(r,t,e,n={}){let o;return le(i=>{o=i,t===document?r():ie(t,r(),t.firstChild?null:void 0,e)},n.owner),()=>{o(),t.textContent=""}}function ee(r,t,e){let n;const o=()=>{const u=document.createElement("template");return u.innerHTML=r,e?u.content.firstChild.firstChild:u.content.firstChild},i=t?()=>K(()=>document.importNode(n||(n=o()),!0)):()=>(n||(n=o())).cloneNode(!0);return i.cloneNode=i,i}function St(r,t=window.document){const e=t[Ne]||(t[Ne]=new Set);for(let n=0,o=r.length;n<o;n++){const i=r[n];e.has(i)||(e.add(i),t.addEventListener(i,Ct))}}function ie(r,t,e,n){if(e!==void 0&&!n&&(n=[]),typeof t!="function")return de(r,t,n,e);J(o=>de(r,t(),o,e),n)}function Ct(r){const t=`$$${r.type}`;let e=r.composedPath&&r.composedPath()[0]||r.target;for(r.target!==e&&Object.defineProperty(r,"target",{configurable:!0,value:e}),Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}});e;){const n=e[t];if(n&&!e.disabled){const o=e[`${t}Data`];if(o!==void 0?n.call(e,o,r):n.call(e,r),r.cancelBubble)return}e=e._$host||e.parentNode||e.host}}function de(r,t,e,n,o){for(;typeof e=="function";)e=e();if(t===e)return e;const i=typeof t,u=n!==void 0;if(r=u&&e[0]&&e[0].parentNode||r,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),u){let a=e[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),e=X(r,e,n,a)}else e!==""&&typeof e=="string"?e=r.firstChild.data=t:e=r.textContent=t;else if(t==null||i==="boolean")e=X(r,e,n);else{if(i==="function")return J(()=>{let a=t();for(;typeof a=="function";)a=a();e=de(r,a,e,n)}),()=>e;if(Array.isArray(t)){const a=[],l=e&&Array.isArray(e);if(Le(a,t,e,o))return J(()=>e=de(r,a,e,n,!0)),()=>e;if(a.length===0){if(e=X(r,e,n),u)return e}else l?e.length===0?Ue(r,a,n):bt(r,e,a):(e&&X(r),Ue(r,a));e=a}else if(t.nodeType){if(Array.isArray(e)){if(u)return e=X(r,e,n,t);X(r,e,null,t)}else e==null||e===""||!r.firstChild?r.appendChild(t):r.replaceChild(t,r.firstChild);e=t}}return e}function Le(r,t,e,n){let o=!1;for(let i=0,u=t.length;i<u;i++){let a=t[i],l=e&&e[i],s;if(!(a==null||a===!0||a===!1))if((s=typeof a)=="object"&&a.nodeType)r.push(a);else if(Array.isArray(a))o=Le(r,a,l)||o;else if(s==="function")if(n){for(;typeof a=="function";)a=a();o=Le(r,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||o}else r.push(a),o=!0;else{const f=String(a);l&&l.nodeType===3&&l.data===f?r.push(l):r.push(document.createTextNode(f))}}return o}function Ue(r,t,e=null){for(let n=0,o=t.length;n<o;n++)r.insertBefore(t[n],e)}function X(r,t,e,n){if(e===void 0)return r.textContent="";const o=n||document.createTextNode("");if(t.length){let i=!1;for(let u=t.length-1;u>=0;u--){const a=t[u];if(o!==a){const l=a.parentNode===r;!i&&!u?l?r.replaceChild(o,a):r.insertBefore(o,e):l&&a.remove()}else i=!0}}else r.insertBefore(o,e);return[o]}var O=function(){return O=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},O.apply(this,arguments)};function Et(r,t,e,n){function o(i){return i instanceof e?i:new e(function(u){u(i)})}return new(e||(e=Promise))(function(i,u){function a(f){try{s(n.next(f))}catch(h){u(h)}}function l(f){try{s(n.throw(f))}catch(h){u(h)}}function s(f){f.done?i(f.value):o(f.value).then(a,l)}s((n=n.apply(r,t||[])).next())})}function zt(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(s){return function(f){return l([s,f])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(e=0)),e;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,o=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){e.label=s[1];break}if(s[0]===6&&e.label<i[1]){e.label=i[1],i=s;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(s);break}i[2]&&e.ops.pop(),e.trys.pop();continue}s=t.call(r,e)}catch(f){s=[6,f],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function S(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),o,i=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){u={error:a}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(u)throw u.error}}return i}var Dt="ENTRIES",it="KEYS",ot="VALUES",T="",Fe=function(){function r(t,e){var n=t._tree,o=Array.from(n.keys());this.set=t,this._type=e,this._path=o.length>0?[{node:n,keys:o}]:[]}return r.prototype.next=function(){var t=this.dive();return this.backtrack(),t},r.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var t=Y(this._path),e=t.node,n=t.keys;if(Y(n)===T)return{done:!1,value:this.result()};var o=e.get(Y(n));return this._path.push({node:o,keys:Array.from(o.keys())}),this.dive()},r.prototype.backtrack=function(){if(this._path.length!==0){var t=Y(this._path).keys;t.pop(),!(t.length>0)&&(this._path.pop(),this.backtrack())}},r.prototype.key=function(){return this.set._prefix+this._path.map(function(t){var e=t.keys;return Y(e)}).filter(function(t){return t!==T}).join("")},r.prototype.value=function(){return Y(this._path).node.get(T)},r.prototype.result=function(){switch(this._type){case ot:return this.value();case it:return this.key();default:return[this.key(),this.value()]}},r.prototype[Symbol.iterator]=function(){return this},r}(),Y=function(r){return r[r.length-1]},Lt=function(r,t,e){var n=new Map;if(t===void 0)return n;for(var o=t.length+1,i=o+e,u=new Uint8Array(i*o).fill(e+1),a=0;a<o;++a)u[a]=a;for(var l=1;l<i;++l)u[l*o]=l;return ut(r,t,e,n,u,1,o,""),n},ut=function(r,t,e,n,o,i,u,a){var l,s,f=i*u;try{e:for(var h=S(r.keys()),c=h.next();!c.done;c=h.next()){var d=c.value;if(d===T){var v=o[f-1];v<=e&&n.set(a,[r.get(d),v])}else{for(var m=i,p=0;p<d.length;++p,++m){for(var x=d[p],w=u*m,y=w-u,A=o[w],E=Math.max(0,m-e-1),L=Math.min(u-1,m+e),C=E;C<L;++C){var g=x!==t[C],F=o[y+C]+ +g,b=o[y+C+1]+1,D=o[w+C]+1,z=o[w+C+1]=Math.min(F,b,D);z<A&&(A=z)}if(A>e)continue e}ut(r.get(d),t,e,n,o,m,u,a+d)}}}catch(_){l={error:_}}finally{try{c&&!c.done&&(s=h.return)&&s.call(h)}finally{if(l)throw l.error}}},xe=function(){function r(t,e){t===void 0&&(t=new Map),e===void 0&&(e=""),this._size=void 0,this._tree=t,this._prefix=e}return r.prototype.atPrefix=function(t){var e,n;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var o=I(ve(this._tree,t.slice(this._prefix.length)),2),i=o[0],u=o[1];if(i===void 0){var a=I(Be(u),2),l=a[0],s=a[1];try{for(var f=S(l.keys()),h=f.next();!h.done;h=f.next()){var c=h.value;if(c!==T&&c.startsWith(s)){var d=new Map;return d.set(c.slice(s.length),l.get(c)),new r(d,t)}}}catch(v){e={error:v}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}}return new r(i,t)},r.prototype.clear=function(){this._size=void 0,this._tree.clear()},r.prototype.delete=function(t){return this._size=void 0,Mt(this._tree,t)},r.prototype.entries=function(){return new Fe(this,Dt)},r.prototype.forEach=function(t){var e,n;try{for(var o=S(this),i=o.next();!i.done;i=o.next()){var u=I(i.value,2),a=u[0],l=u[1];t(a,l,this)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},r.prototype.fuzzyGet=function(t,e){return Lt(this._tree,t,e)},r.prototype.get=function(t){var e=Me(this._tree,t);return e!==void 0?e.get(T):void 0},r.prototype.has=function(t){var e=Me(this._tree,t);return e!==void 0&&e.has(T)},r.prototype.keys=function(){return new Fe(this,it)},r.prototype.set=function(t,e){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var n=be(this._tree,t);return n.set(T,e),this},Object.defineProperty(r.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var t=this.entries();!t.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),r.prototype.update=function(t,e){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var n=be(this._tree,t);return n.set(T,e(n.get(T))),this},r.prototype.fetch=function(t,e){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var n=be(this._tree,t),o=n.get(T);return o===void 0&&n.set(T,o=e()),o},r.prototype.values=function(){return new Fe(this,ot)},r.prototype[Symbol.iterator]=function(){return this.entries()},r.from=function(t){var e,n,o=new r;try{for(var i=S(t),u=i.next();!u.done;u=i.next()){var a=I(u.value,2),l=a[0],s=a[1];o.set(l,s)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o},r.fromObject=function(t){return r.from(Object.entries(t))},r}(),ve=function(r,t,e){var n,o;if(e===void 0&&(e=[]),t.length===0||r==null)return[r,e];try{for(var i=S(r.keys()),u=i.next();!u.done;u=i.next()){var a=u.value;if(a!==T&&t.startsWith(a))return e.push([r,a]),ve(r.get(a),t.slice(a.length),e)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e.push([r,t]),ve(void 0,"",e)},Me=function(r,t){var e,n;if(t.length===0||r==null)return r;try{for(var o=S(r.keys()),i=o.next();!i.done;i=o.next()){var u=i.value;if(u!==T&&t.startsWith(u))return Me(r.get(u),t.slice(u.length))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},be=function(r,t){var e,n,o=t.length;e:for(var i=0;r&&i<o;){try{for(var u=(e=void 0,S(r.keys())),a=u.next();!a.done;a=u.next()){var l=a.value;if(l!==T&&t[i]===l[0]){for(var s=Math.min(o-i,l.length),f=1;f<s&&t[i+f]===l[f];)++f;var h=r.get(l);if(f===l.length)r=h;else{var c=new Map;c.set(l.slice(f),h),r.set(t.slice(i,i+f),c),r.delete(l),r=c}i+=f;continue e}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var d=new Map;return r.set(t.slice(i),d),d}return r},Mt=function(r,t){var e=I(ve(r,t),2),n=e[0],o=e[1];if(n!==void 0){if(n.delete(T),n.size===0)at(o);else if(n.size===1){var i=I(n.entries().next().value,2),u=i[0],a=i[1];lt(o,u,a)}}},at=function(r){if(r.length!==0){var t=I(Be(r),2),e=t[0],n=t[1];if(e.delete(n),e.size===0)at(r.slice(0,-1));else if(e.size===1){var o=I(e.entries().next().value,2),i=o[0],u=o[1];i!==T&&lt(r.slice(0,-1),i,u)}}},lt=function(r,t,e){if(r.length!==0){var n=I(Be(r),2),o=n[0],i=n[1];o.set(i+t,e),o.delete(i)}},Be=function(r){return r[r.length-1]},te,Te="or",st="and",Ot="and_not",_t=function(){function r(t){if((t==null?void 0:t.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');var e=t.autoVacuum==null||t.autoVacuum===!0?Ce:t.autoVacuum;this._options=O(O(O({},Se),t),{autoVacuum:e,searchOptions:O(O({},We),t.searchOptions||{}),autoSuggestOptions:O(O({},$t),t.autoSuggestOptions||{})}),this._index=new xe,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=_e,this.addFields(this._options.fields)}return r.prototype.add=function(t){var e,n,o,i,u,a,l=this._options,s=l.extractField,f=l.tokenize,h=l.processTerm,c=l.fields,d=l.idField,v=s(t,d);if(v==null)throw new Error('MiniSearch: document does not have ID field "'.concat(d,'"'));if(this._idToShortId.has(v))throw new Error("MiniSearch: duplicate ID ".concat(v));var m=this.addDocumentId(v);this.saveStoredFields(m,t);try{for(var p=S(c),x=p.next();!x.done;x=p.next()){var w=x.value,y=s(t,w);if(y!=null){var A=f(y.toString(),w),E=this._fieldIds[w],L=new Set(A).size;this.addFieldLength(m,E,this._documentCount-1,L);try{for(var C=(o=void 0,S(A)),g=C.next();!g.done;g=C.next()){var F=g.value,b=h(F,w);if(Array.isArray(b))try{for(var D=(u=void 0,S(b)),z=D.next();!z.done;z=D.next()){var _=z.value;this.addTerm(E,m,_)}}catch(M){u={error:M}}finally{try{z&&!z.done&&(a=D.return)&&a.call(D)}finally{if(u)throw u.error}}else b&&this.addTerm(E,m,b)}}catch(M){o={error:M}}finally{try{g&&!g.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}}}}catch(M){e={error:M}}finally{try{x&&!x.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}},r.prototype.addAll=function(t){var e,n;try{for(var o=S(t),i=o.next();!i.done;i=o.next()){var u=i.value;this.add(u)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},r.prototype.addAllAsync=function(t,e){var n=this;e===void 0&&(e={});var o=e.chunkSize,i=o===void 0?10:o,u={chunk:[],promise:Promise.resolve()},a=t.reduce(function(f,h,c){var d=f.chunk,v=f.promise;return d.push(h),(c+1)%i===0?{chunk:[],promise:v.then(function(){return new Promise(function(m){return setTimeout(m,0)})}).then(function(){return n.addAll(d)})}:{chunk:d,promise:v}},u),l=a.chunk,s=a.promise;return s.then(function(){return n.addAll(l)})},r.prototype.remove=function(t){var e,n,o,i,u,a,l=this._options,s=l.tokenize,f=l.processTerm,h=l.extractField,c=l.fields,d=l.idField,v=h(t,d);if(v==null)throw new Error('MiniSearch: document does not have ID field "'.concat(d,'"'));var m=this._idToShortId.get(v);if(m==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(v,": it is not in the index"));try{for(var p=S(c),x=p.next();!x.done;x=p.next()){var w=x.value,y=h(t,w);if(y!=null){var A=s(y.toString(),w),E=this._fieldIds[w],L=new Set(A).size;this.removeFieldLength(m,E,this._documentCount,L);try{for(var C=(o=void 0,S(A)),g=C.next();!g.done;g=C.next()){var F=g.value,b=f(F,w);if(Array.isArray(b))try{for(var D=(u=void 0,S(b)),z=D.next();!z.done;z=D.next()){var _=z.value;this.removeTerm(E,m,_)}}catch(M){u={error:M}}finally{try{z&&!z.done&&(a=D.return)&&a.call(D)}finally{if(u)throw u.error}}else b&&this.removeTerm(E,m,b)}}catch(M){o={error:M}}finally{try{g&&!g.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}}}}catch(M){e={error:M}}finally{try{x&&!x.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}this._storedFields.delete(m),this._documentIds.delete(m),this._idToShortId.delete(v),this._fieldLength.delete(m),this._documentCount-=1},r.prototype.removeAll=function(t){var e,n;if(t)try{for(var o=S(t),i=o.next();!i.done;i=o.next()){var u=i.value;this.remove(u)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new xe,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},r.prototype.discard=function(t){var e=this,n=this._idToShortId.get(t);if(n==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(t,": it is not in the index"));this._idToShortId.delete(t),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach(function(o,i){e.removeFieldLength(n,i,e._documentCount,o)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},r.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var t=this._options.autoVacuum,e=t.minDirtFactor,n=t.minDirtCount,o=t.batchSize,i=t.batchWait;this.conditionalVacuum({batchSize:o,batchWait:i},{minDirtCount:n,minDirtFactor:e})}},r.prototype.discardAll=function(t){var e,n,o=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var i=S(t),u=i.next();!u.done;u=i.next()){var a=u.value;this.discard(a)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}finally{this._options.autoVacuum=o}this.maybeAutoVacuum()},r.prototype.replace=function(t){var e=this._options,n=e.idField,o=e.extractField,i=o(t,n);this.discard(i),this.add(t)},r.prototype.vacuum=function(t){return t===void 0&&(t={}),this.conditionalVacuum(t)},r.prototype.conditionalVacuum=function(t,e){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&e,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var o=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=_e,n.performVacuuming(t,o)}),this._enqueuedVacuum)):this.vacuumConditionsMet(e)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)},r.prototype.performVacuuming=function(t,e){return Et(this,void 0,void 0,function(){var n,o,i,u,a,l,s,f,h,c,d,v,m,p,x,w,y,A,E,L,C,g,F,b,D;return zt(this,function(z){switch(z.label){case 0:if(n=this._dirtCount,!this.vacuumConditionsMet(e))return[3,10];o=t.batchSize||Oe.batchSize,i=t.batchWait||Oe.batchWait,u=1,z.label=1;case 1:z.trys.push([1,7,8,9]),a=S(this._index),l=a.next(),z.label=2;case 2:if(l.done)return[3,6];s=I(l.value,2),f=s[0],h=s[1];try{for(c=(g=void 0,S(h)),d=c.next();!d.done;d=c.next()){v=I(d.value,2),m=v[0],p=v[1];try{for(x=(b=void 0,S(p)),w=x.next();!w.done;w=x.next())y=I(w.value,1),A=y[0],!this._documentIds.has(A)&&(p.size<=1?h.delete(m):p.delete(A))}catch(_){b={error:_}}finally{try{w&&!w.done&&(D=x.return)&&D.call(x)}finally{if(b)throw b.error}}}}catch(_){g={error:_}}finally{try{d&&!d.done&&(F=c.return)&&F.call(c)}finally{if(g)throw g.error}}return this._index.get(f).size===0&&this._index.delete(f),u%o!==0?[3,4]:[4,new Promise(function(_){return setTimeout(_,i)})];case 3:z.sent(),z.label=4;case 4:u+=1,z.label=5;case 5:return l=a.next(),[3,2];case 6:return[3,9];case 7:return E=z.sent(),L={error:E},[3,9];case 8:try{l&&!l.done&&(C=a.return)&&C.call(a)}finally{if(L)throw L.error}return[7];case 9:this._dirtCount-=n,z.label=10;case 10:return[4,null];case 11:return z.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},r.prototype.vacuumConditionsMet=function(t){if(t==null)return!0;var e=t.minDirtCount,n=t.minDirtFactor;return e=e||Ce.minDirtCount,n=n||Ce.minDirtFactor,this.dirtCount>=e&&this.dirtFactor>=n},Object.defineProperty(r.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),r.prototype.has=function(t){return this._idToShortId.has(t)},r.prototype.getStoredFields=function(t){var e=this._idToShortId.get(t);if(e!=null)return this._storedFields.get(e)},r.prototype.search=function(t,e){var n,o;e===void 0&&(e={});var i=this.executeQuery(t,e),u=[];try{for(var a=S(i),l=a.next();!l.done;l=a.next()){var s=I(l.value,2),f=s[0],h=s[1],c=h.score,d=h.terms,v=h.match,m=d.length||1,p={id:this._documentIds.get(f),score:c*m,terms:Object.keys(v),queryTerms:d,match:v};Object.assign(p,this._storedFields.get(f)),(e.filter==null||e.filter(p))&&u.push(p)}}catch(x){n={error:x}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return t===r.wildcard&&e.boostDocument==null&&this._options.searchOptions.boostDocument==null||u.sort(Re),u},r.prototype.autoSuggest=function(t,e){var n,o,i,u;e===void 0&&(e={}),e=O(O({},this._options.autoSuggestOptions),e);var a=new Map;try{for(var l=S(this.search(t,e)),s=l.next();!s.done;s=l.next()){var f=s.value,h=f.score,c=f.terms,d=c.join(" "),v=a.get(d);v!=null?(v.score+=h,v.count+=1):a.set(d,{score:h,terms:c,count:1})}}catch(E){n={error:E}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}var m=[];try{for(var p=S(a),x=p.next();!x.done;x=p.next()){var w=I(x.value,2),v=w[0],y=w[1],h=y.score,c=y.terms,A=y.count;m.push({suggestion:v,terms:c,score:h/A})}}catch(E){i={error:E}}finally{try{x&&!x.done&&(u=p.return)&&u.call(p)}finally{if(i)throw i.error}}return m.sort(Re),m},Object.defineProperty(r.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),r.loadJSON=function(t,e){if(e==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),e)},r.getDefault=function(t){if(Se.hasOwnProperty(t))return Ae(Se,t);throw new Error('MiniSearch: unknown option "'.concat(t,'"'))},r.loadJS=function(t,e){var n,o,i,u,a,l,s=t.index,f=t.documentCount,h=t.nextId,c=t.documentIds,d=t.fieldIds,v=t.fieldLength,m=t.averageFieldLength,p=t.storedFields,x=t.dirtCount,w=t.serializationVersion;if(w!==1&&w!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var y=new r(e);y._documentCount=f,y._nextId=h,y._documentIds=ue(c),y._idToShortId=new Map,y._fieldIds=d,y._fieldLength=ue(v),y._avgFieldLength=m,y._storedFields=ue(p),y._dirtCount=x||0,y._index=new xe;try{for(var A=S(y._documentIds),E=A.next();!E.done;E=A.next()){var L=I(E.value,2),C=L[0],g=L[1];y._idToShortId.set(g,C)}}catch(U){n={error:U}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(n)throw n.error}}try{for(var F=S(s),b=F.next();!b.done;b=F.next()){var D=I(b.value,2),z=D[0],_=D[1],M=new Map;try{for(var P=(a=void 0,S(Object.keys(_))),k=P.next();!k.done;k=P.next()){var R=k.value,H=_[R];w===1&&(H=H.ds),M.set(parseInt(R,10),ue(H))}}catch(U){a={error:U}}finally{try{k&&!k.done&&(l=P.return)&&l.call(P)}finally{if(a)throw a.error}}y._index.set(z,M)}}catch(U){i={error:U}}finally{try{b&&!b.done&&(u=F.return)&&u.call(F)}finally{if(i)throw i.error}}return y},r.prototype.executeQuery=function(t,e){var n=this;if(e===void 0&&(e={}),t===r.wildcard)return this.executeWildcardQuery(e);if(typeof t!="string"){var o=O(O(O({},e),t),{queries:void 0}),i=t.queries.map(function(p){return n.executeQuery(p,o)});return this.combineResults(i,o.combineWith)}var u=this._options,a=u.tokenize,l=u.processTerm,s=u.searchOptions,f=O(O({tokenize:a,processTerm:l},s),e),h=f.tokenize,c=f.processTerm,d=h(t).flatMap(function(p){return c(p)}).filter(function(p){return!!p}),v=d.map(Tt(f)),m=v.map(function(p){return n.executeQuerySpec(p,f)});return this.combineResults(m,f.combineWith)},r.prototype.executeQuerySpec=function(t,e){var n,o,i,u,a=O(O({},this._options.searchOptions),e),l=(a.fields||this._options.fields).reduce(function(R,H){var U;return O(O({},R),(U={},U[H]=Ae(a.boost,H)||1,U))},{}),s=a.boostDocument,f=a.weights,h=a.maxFuzzy,c=a.bm25,d=O(O({},We.weights),f),v=d.fuzzy,m=d.prefix,p=this._index.get(t.term),x=this.termResults(t.term,t.term,1,p,l,s,c),w,y;if(t.prefix&&(w=this._index.atPrefix(t.term)),t.fuzzy){var A=t.fuzzy===!0?.2:t.fuzzy,E=A<1?Math.min(h,Math.round(t.term.length*A)):A;E&&(y=this._index.fuzzyGet(t.term,E))}if(w)try{for(var L=S(w),C=L.next();!C.done;C=L.next()){var g=I(C.value,2),F=g[0],b=g[1],D=F.length-t.term.length;if(D){y==null||y.delete(F);var z=m*F.length/(F.length+.3*D);this.termResults(t.term,F,z,b,l,s,c,x)}}}catch(R){n={error:R}}finally{try{C&&!C.done&&(o=L.return)&&o.call(L)}finally{if(n)throw n.error}}if(y)try{for(var _=S(y.keys()),M=_.next();!M.done;M=_.next()){var F=M.value,P=I(y.get(F),2),k=P[0],D=P[1];if(D){var z=v*F.length/(F.length+D);this.termResults(t.term,F,z,k,l,s,c,x)}}}catch(R){i={error:R}}finally{try{M&&!M.done&&(u=_.return)&&u.call(_)}finally{if(i)throw i.error}}return x},r.prototype.executeWildcardQuery=function(t){var e,n,o=new Map,i=O(O({},this._options.searchOptions),t);try{for(var u=S(this._documentIds),a=u.next();!a.done;a=u.next()){var l=I(a.value,2),s=l[0],f=l[1],h=i.boostDocument?i.boostDocument(f,"",this._storedFields.get(s)):1;o.set(s,{score:h,terms:[],match:{}})}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return o},r.prototype.combineResults=function(t,e){if(e===void 0&&(e=Te),t.length===0)return new Map;var n=e.toLowerCase();return t.reduce(Vt[n])||new Map},r.prototype.toJSON=function(){var t,e,n,o,i=[];try{for(var u=S(this._index),a=u.next();!a.done;a=u.next()){var l=I(a.value,2),s=l[0],f=l[1],h={};try{for(var c=(n=void 0,S(f)),d=c.next();!d.done;d=c.next()){var v=I(d.value,2),m=v[0],p=v[1];h[m]=Object.fromEntries(p)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}i.push([s,h])}}catch(x){t={error:x}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:i,serializationVersion:2}},r.prototype.termResults=function(t,e,n,o,i,u,a,l){var s,f,h,c,d;if(l===void 0&&(l=new Map),o==null)return l;try{for(var v=S(Object.keys(i)),m=v.next();!m.done;m=v.next()){var p=m.value,x=i[p],w=this._fieldIds[p],y=o.get(w);if(y!=null){var A=y.size,E=this._avgFieldLength[w];try{for(var L=(h=void 0,S(y.keys())),C=L.next();!C.done;C=L.next()){var g=C.value;if(!this._documentIds.has(g)){this.removeTerm(w,g,e),A-=1;continue}var F=u?u(this._documentIds.get(g),e,this._storedFields.get(g)):1;if(F){var b=y.get(g),D=this._fieldLength.get(g)[w],z=Bt(b,A,this._documentCount,D,E,a),_=n*x*F*z,M=l.get(g);if(M){M.score+=_,kt(M.terms,t);var P=Ae(M.match,e);P?P.push(p):M.match[e]=[p]}else l.set(g,{score:_,terms:[t],match:(d={},d[e]=[p],d)})}}}catch(k){h={error:k}}finally{try{C&&!C.done&&(c=L.return)&&c.call(L)}finally{if(h)throw h.error}}}}}catch(k){s={error:k}}finally{try{m&&!m.done&&(f=v.return)&&f.call(v)}finally{if(s)throw s.error}}return l},r.prototype.addTerm=function(t,e,n){var o=this._index.fetch(n,Ke),i=o.get(t);if(i==null)i=new Map,i.set(e,1),o.set(t,i);else{var u=i.get(e);i.set(e,(u||0)+1)}},r.prototype.removeTerm=function(t,e,n){if(!this._index.has(n)){this.warnDocumentChanged(e,t,n);return}var o=this._index.fetch(n,Ke),i=o.get(t);i==null||i.get(e)==null?this.warnDocumentChanged(e,t,n):i.get(e)<=1?i.size<=1?o.delete(t):i.delete(e):i.set(e,i.get(e)-1),this._index.get(n).size===0&&this._index.delete(n)},r.prototype.warnDocumentChanged=function(t,e,n){var o,i;try{for(var u=S(Object.keys(this._fieldIds)),a=u.next();!a.done;a=u.next()){var l=a.value;if(this._fieldIds[l]===e){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(t),' has changed before removal: term "').concat(n,'" was not present in field "').concat(l,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(s){o={error:s}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}},r.prototype.addDocumentId=function(t){var e=this._nextId;return this._idToShortId.set(t,e),this._documentIds.set(e,t),this._documentCount+=1,this._nextId+=1,e},r.prototype.addFields=function(t){for(var e=0;e<t.length;e++)this._fieldIds[t[e]]=e},r.prototype.addFieldLength=function(t,e,n,o){var i=this._fieldLength.get(t);i==null&&this._fieldLength.set(t,i=[]),i[e]=o;var u=this._avgFieldLength[e]||0,a=u*n+o;this._avgFieldLength[e]=a/(n+1)},r.prototype.removeFieldLength=function(t,e,n,o){if(n===1){this._avgFieldLength[e]=0;return}var i=this._avgFieldLength[e]*n-o;this._avgFieldLength[e]=i/(n-1)},r.prototype.saveStoredFields=function(t,e){var n,o,i=this._options,u=i.storeFields,a=i.extractField;if(!(u==null||u.length===0)){var l=this._storedFields.get(t);l==null&&this._storedFields.set(t,l={});try{for(var s=S(u),f=s.next();!f.done;f=s.next()){var h=f.value,c=a(e,h);c!==void 0&&(l[h]=c)}}catch(d){n={error:d}}finally{try{f&&!f.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}},r.wildcard=Symbol("*"),r}(),Ae=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0},Vt=(te={},te[Te]=function(r,t){var e,n;try{for(var o=S(t.keys()),i=o.next();!i.done;i=o.next()){var u=i.value,a=r.get(u);if(a==null)r.set(u,t.get(u));else{var l=t.get(u),s=l.score,f=l.terms,h=l.match;a.score=a.score+s,a.match=Object.assign(a.match,h),Qe(a.terms,f)}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},te[st]=function(r,t){var e,n,o=new Map;try{for(var i=S(t.keys()),u=i.next();!u.done;u=i.next()){var a=u.value,l=r.get(a);if(l!=null){var s=t.get(a),f=s.score,h=s.terms,c=s.match;Qe(l.terms,h),o.set(a,{score:l.score+f,terms:l.terms,match:Object.assign(l.match,c)})}}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o},te[Ot]=function(r,t){var e,n;try{for(var o=S(t.keys()),i=o.next();!i.done;i=o.next()){var u=i.value;r.delete(u)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},te),It={k:1.2,b:.7,d:.5},Bt=function(r,t,e,n,o,i){var u=i.k,a=i.b,l=i.d,s=Math.log(1+(e-t+.5)/(t+.5));return s*(l+r*(u+1)/(r+u*(1-a+a*n/o)))},Tt=function(r){return function(t,e,n){var o=typeof r.fuzzy=="function"?r.fuzzy(t,e,n):r.fuzzy||!1,i=typeof r.prefix=="function"?r.prefix(t,e,n):r.prefix===!0;return{term:t,fuzzy:o,prefix:i}}},Se={idField:"id",extractField:function(r,t){return r[t]},tokenize:function(r){return r.split(Pt)},processTerm:function(r){return r.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(r,t){typeof(console==null?void 0:console[r])=="function"&&console[r](t)},autoVacuum:!0},We={combineWith:Te,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:It},$t={combineWith:st,prefix:function(r,t,e){return t===e.length-1}},Oe={batchSize:1e3,batchWait:10},_e={minDirtFactor:.1,minDirtCount:20},Ce=O(O({},Oe),_e),kt=function(r,t){r.includes(t)||r.push(t)},Qe=function(r,t){var e,n;try{for(var o=S(t),i=o.next();!i.done;i=o.next()){var u=i.value;r.includes(u)||r.push(u)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},Re=function(r,t){var e=r.score,n=t.score;return n-e},Ke=function(){return new Map},ue=function(r){var t,e,n=new Map;try{for(var o=S(Object.keys(r)),i=o.next();!i.done;i=o.next()){var u=i.value;n.set(parseInt(u,10),r[u])}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n},Pt=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;function Nt(r,t){document.addEventListener("keydown",e=>{e.key===r&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t())})}function ae(r,t){document.addEventListener("keydown",e=>{e.key===r&&(e.preventDefault(),t())})}function je(){const r=window.location.pathname.split("/")[1];Ie(r||"help")}function Ut(r){let t=0,e=0;function n(){e>t&&e-t>150&&(console.log("swiped right"),r())}document.addEventListener("touchstart",o=>{t=o.changedTouches[0].screenX}),document.addEventListener("touchend",o=>{e=o.changedTouches[0].screenX,n()})}const Wt=ee('<input autofocus autocomplete=off type=text placeholder=Search list=frontmatter id=search class="mt-2 h-10 w-full flex-none rounded-lg bg-gray-700 p-2 text-gray-200 shadow-lg">'),Qt=ee("<p>Selected: "),Rt=ee('<ul class="flex grow flex-col-reverse items-start overflow-y-scroll rounded-lg bg-gray-700 p-2 shadow-lg">'),Kt=ee("<li>"),jt=ee('<div class="fixed left-0 top-0 z-10 flex h-screen w-screen flex-col items-center justify-center backdrop-blur-sm"><div class="z-20 mx-4 flex h-1/2 w-1/2 flex-col justify-end rounded-lg bg-gray-600 p-4 shadow-lg">'),Ve=0,[Ee,Je]=N("help"),[Jt,Ie]=N("help"),[$e,oe]=N(!0),[re,Ge]=N([]),[j,ne]=N(Ve);function Gt(){console.log("mounting search");const[r]=De(qt),[t]=De(r,Ht);return ae("ArrowUp",()=>ne((j()+1)%re().length)),ae("ArrowDown",()=>ne((j()-1+re().length)%re().length)),ae("Enter",()=>{let e=re();console.log("enter pressed, search results: ",e),e.length>0&&(console.log(e[j()].title),Ie(e[j()].title),window.scrollTo({top:0,behavior:"instant"}),window.history.pushState({},"",`/${e[j()].title}`),oe(!1))}),ae("Escape",()=>oe(!1)),Ut(()=>oe(!0)),ze(()=>{var e;if((e=t())!=null&&e.search){if(Ee()===""){Ge(r());return}let n=t().search(Ee(),{prefix:!0,fuzzy:.2,boost:{title:2}});Ge(n)}}),ze(()=>{if($e()){let e=document.getElementById("search");e==null||e.focus(),Je(""),ne(Ve)}}),[q(Xt,{}),(()=>{const e=Wt();return e.$$input=n=>{Je(n.target.value),ne(Ve)},J(()=>e.value=Ee()),e})()]}function Ht(r){let t=new _t({fields:["title"],storeFields:["title","date"]});return t.addAll(r),console.log(t),t}function Xt(){return[(()=>{const r=Qt();return r.firstChild,ie(r,j,null),r})(),(()=>{const r=Rt();return ie(r,q(xt,{get each(){return re()},children:(t,e)=>(()=>{const n=Kt();return n.$$click=()=>{ne(e()),document.dispatchEvent(new KeyboardEvent("keydown",{key:"Enter"}))},ie(n,()=>t.title),J(()=>n.classList.toggle("text-orange-400",j()===e())),n})()})),r})()]}function Yt(){return(()=>{const r=jt(),t=r.firstChild;return r.$$click=()=>oe(!1),t.$$click=e=>e.stopPropagation(),ie(t,q(Gt,{})),J(()=>r.classList.toggle("hidden",!$e())),r})()}const qt=async()=>{let r="frontmatters.json";const e=await(await fetch(r)).json();return console.log(`fetched ${r}`),e};St(["input","click"]);const Zt=ee("<div>");function er(r){const[t]=De(r.url,tr);return ze(dt(t,()=>{console.log("Content mounted"),rr()})),(()=>{const e=Zt();return J(()=>e.innerHTML=t()),e})()}const tr=async r=>{let t=`/data/${r}.html`;return console.log(`fetching ${t}`),await(await fetch(t)).text()};function rr(){typeof MathJax.typeset<"u"&&(MathJax.typeset(),console.log("Math refreshed"))}function nr(){return Nt("k",()=>oe(!$e())),document.addEventListener("DOMContentLoaded",je),window.addEventListener("popstate",je),[q(Yt,{}),q(er,{url:Jt})]}const ir=document.getElementById("root");At(()=>q(nr,{}),ir);
